(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9169:function(e,A,a){Promise.resolve().then(a.bind(a,9320))},5344:function(e,A,a){"use strict";var t=a(5236),o=a(9842),s=a(9854);let n=(0,t.ZF)({apiKey:"AIzaSyB5__zMeXEsk4RxME0Fg46Sz7AhqZzA9qE",authDomain:"mtg-quickyclock.firebaseapp.com",projectId:"mtg-quickyclock",storageBucket:"mtg-quickyclock.appspot.com",messagingSenderId:"865821745601",appId:"1:865821745601:web:b01221defd23ac3d338f40"}),r=(0,o.ad)(n);(0,s.cF)(n),A.Z=r},9320:function(e,A,a){"use strict";a.r(A),a.d(A,{default:function(){return u}});var t=a(7437),o=a(6463),s=a(2265),n=a(6648),r=a(8518),i=a.n(r),l=a(9842),c=a(5344),d=a(9450),g={src:"/_next/static/media/MTGBCSLogo.3420c02d.jpg",height:960,width:2304,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAMACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABwEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAK4I/8QAGRABAAIDAAAAAAAAAAAAAAAAAQMRAAIh/9oACAEBAAE/AIYtCWgoVXuf/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQIBAT8AFb//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AH//2Q==",blurWidth:8,blurHeight:3};function u(){let e=(0,o.useRouter)(),A=async()=>{let e=d.ou.now().setZone("America/Edmonton").toISODate();(await (0,l.PL)((0,l.hJ)(c.Z,"employee"))).forEach(async A=>{let a=A.data().lastOnlineDate||e;if(e!==a){let e=(0,l.JU)(c.Z,"employee",A.id);await (0,l.r7)(e,{workDurationToday:0})}})};(0,s.useEffect)(()=>{A()},[]);let a=async()=>{let A=document.getElementById("mtgId").value,a=document.getElementById("password").value,t=(0,l.IO)((0,l.hJ)(c.Z,"employee"),(0,l.ar)("id","==",A),(0,l.ar)("password","==",a)),o=await (0,l.PL)(t);if(o.empty)console.error("Invalid credentials"),alert("Invalid credentials");else{let a=o.docs[0].data();localStorage.setItem("userName",a.name),localStorage.setItem("userId",A),e.push("/employee")}},r=async()=>{let A=document.getElementById("mtgId").value,a=document.getElementById("password").value,t=(0,l.IO)((0,l.hJ)(c.Z,"employee"),(0,l.ar)("id","==",A),(0,l.ar)("password","==",a)),o=await (0,l.PL)(t);if(o.empty)console.error("Invalid credentials"),alert("Invalid credentials");else{let a=o.docs[0].data();"admin"===a.class?(localStorage.setItem("adminName",a.name),localStorage.setItem("userId",A),e.push("/admin")):(console.error("You are not authorized to access admin page"),alert("You are not authorized to access admin page"))}};return(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsxs)("div",{className:i().formContainer,children:[(0,t.jsx)(n.default,{src:g,alt:"MTG Logo",className:i().logo,width:250,height:110}),(0,t.jsx)("input",{type:"text",placeholder:"Enter Your MTG ID",className:i().input,id:"mtgId"}),(0,t.jsx)("input",{type:"password",placeholder:"Password",className:i().input,id:"password"}),(0,t.jsx)("button",{className:i().button,onClick:a,children:"Login"}),(0,t.jsx)("a",{onClick:r,className:i().forgetPassword,children:"Login as Admin"})]}),(0,t.jsx)("div",{className:i().copyright,children:"\xa9 2024 MTG Healthcare Academy"})]})}},8518:function(e){e.exports={container:"page_container__jZF7q",logo:"page_logo__ikIZE",title:"page_title__po7na",formContainer:"page_formContainer__9vwPo",input:"page_input__lx_gt",button:"page_button__52WaL",forgetPassword:"page_forgetPassword__zMizj",copyright:"page_copyright__FJcf5"}}},function(e){e.O(0,[851,358,900,648,971,23,744],function(){return e(e.s=9169)}),_N_E=e.O()}]);